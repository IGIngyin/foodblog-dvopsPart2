function cov_582o2f237(){var path="C:\\Users\\tashi\\OneDrive\\Desktop\\dvops-part2\\foodblog-dvops-part2\\utils\\UserComments.js";var hash="8e15e62d144e521f4b380e77e9ca278306f3d4c3";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\tashi\\OneDrive\\Desktop\\dvops-part2\\foodblog-dvops-part2\\utils\\UserComments.js",statementMap:{"0":{start:{line:144,column:11},end:{line:144,column:33}},"1":{start:{line:145,column:13},end:{line:145,column:28}},"2":{start:{line:146,column:23},end:{line:146,column:38}},"3":{start:{line:148,column:25},end:{line:148,column:62}},"4":{start:{line:149,column:26},end:{line:149,column:64}},"5":{start:{line:150,column:28},end:{line:150,column:68}},"6":{start:{line:152,column:19},end:{line:152,column:29}},"7":{start:{line:153,column:4},end:{line:165,column:5}},"8":{start:{line:154,column:22},end:{line:154,column:55}},"9":{start:{line:155,column:21},end:{line:155,column:51}},"10":{start:{line:155,column:39},end:{line:155,column:50}},"11":{start:{line:157,column:8},end:{line:161,column:9}},"12":{start:{line:158,column:12},end:{line:158,column:39}},"13":{start:{line:160,column:12},end:{line:160,column:65}},"14":{start:{line:163,column:8},end:{line:163,column:61}},"15":{start:{line:164,column:8},end:{line:164,column:68}},"16":{start:{line:170,column:4},end:{line:176,column:5}},"17":{start:{line:171,column:21},end:{line:171,column:67}},"18":{start:{line:172,column:8},end:{line:172,column:32}},"19":{start:{line:174,column:8},end:{line:174,column:60}},"20":{start:{line:175,column:8},end:{line:175,column:18}},"21":{start:{line:181,column:4},end:{line:191,column:5}},"22":{start:{line:182,column:21},end:{line:182,column:56}},"23":{start:{line:183,column:8},end:{line:183,column:32}},"24":{start:{line:185,column:8},end:{line:189,column:9}},"25":{start:{line:186,column:12},end:{line:186,column:70}},"26":{start:{line:187,column:12},end:{line:187,column:78}},"27":{start:{line:188,column:12},end:{line:188,column:22}},"28":{start:{line:190,column:8},end:{line:190,column:20}},"29":{start:{line:196,column:4},end:{line:201,column:5}},"30":{start:{line:197,column:8},end:{line:197,column:76}},"31":{start:{line:199,column:8},end:{line:199,column:67}},"32":{start:{line:200,column:8},end:{line:200,column:20}},"33":{start:{line:205,column:24},end:{line:205,column:47}},"34":{start:{line:206,column:18},end:{line:206,column:99}},"35":{start:{line:207,column:4},end:{line:207,column:28}},"36":{start:{line:212,column:19},end:{line:212,column:29}},"37":{start:{line:213,column:21},end:{line:213,column:29}},"38":{start:{line:215,column:31},end:{line:215,column:34}},"39":{start:{line:217,column:4},end:{line:263,column:5}},"40":{start:{line:219,column:22},end:{line:219,column:55}},"41":{start:{line:220,column:27},end:{line:220,column:63}},"42":{start:{line:220,column:48},end:{line:220,column:62}},"43":{start:{line:221,column:8},end:{line:223,column:9}},"44":{start:{line:222,column:12},end:{line:222,column:80}},"45":{start:{line:226,column:8},end:{line:228,column:9}},"46":{start:{line:227,column:12},end:{line:227,column:81}},"47":{start:{line:231,column:8},end:{line:236,column:9}},"48":{start:{line:232,column:12},end:{line:232,column:66}},"49":{start:{line:233,column:12},end:{line:235,column:15}},"50":{start:{line:239,column:8},end:{line:243,column:9}},"51":{start:{line:240,column:12},end:{line:242,column:15}},"52":{start:{line:246,column:25},end:{line:246,column:57}},"53":{start:{line:247,column:8},end:{line:247,column:45}},"54":{start:{line:247,column:27},end:{line:247,column:45}},"55":{start:{line:248,column:27},end:{line:252,column:9}},"56":{start:{line:253,column:8},end:{line:253,column:38}},"57":{start:{line:254,column:8},end:{line:254,column:52}},"58":{start:{line:256,column:8},end:{line:259,column:11}},"59":{start:{line:261,column:8},end:{line:261,column:54}},"60":{start:{line:262,column:8},end:{line:262,column:75}},"61":{start:{line:268,column:19},end:{line:268,column:29}},"62":{start:{line:270,column:4},end:{line:279,column:5}},"63":{start:{line:271,column:25},end:{line:271,column:57}},"64":{start:{line:272,column:8},end:{line:274,column:9}},"65":{start:{line:273,column:12},end:{line:273,column:89}},"66":{start:{line:275,column:8},end:{line:275,column:50}},"67":{start:{line:277,column:8},end:{line:277,column:57}},"68":{start:{line:278,column:8},end:{line:278,column:75}},"69":{start:{line:282,column:0},end:{line:286,column:2}}},fnMap:{"0":{name:"getPostById",decl:{start:{line:151,column:15},end:{line:151,column:26}},loc:{start:{line:151,column:37},end:{line:166,column:1}},line:151},"1":{name:"(anonymous_1)",decl:{start:{line:155,column:32},end:{line:155,column:33}},loc:{start:{line:155,column:39},end:{line:155,column:50}},line:155},"2":{name:"loadBannedWords",decl:{start:{line:169,column:15},end:{line:169,column:30}},loc:{start:{line:169,column:33},end:{line:177,column:1}},line:169},"3":{name:"readJSON",decl:{start:{line:180,column:15},end:{line:180,column:23}},loc:{start:{line:180,column:34},end:{line:192,column:1}},line:180},"4":{name:"writeJSON",decl:{start:{line:195,column:15},end:{line:195,column:24}},loc:{start:{line:195,column:41},end:{line:202,column:1}},line:195},"5":{name:"containsBannedWords",decl:{start:{line:204,column:15},end:{line:204,column:34}},loc:{start:{line:204,column:41},end:{line:208,column:1}},line:204},"6":{name:"addComment",decl:{start:{line:211,column:15},end:{line:211,column:25}},loc:{start:{line:211,column:36},end:{line:264,column:1}},line:211},"7":{name:"(anonymous_7)",decl:{start:{line:220,column:38},end:{line:220,column:39}},loc:{start:{line:220,column:48},end:{line:220,column:62}},line:220},"8":{name:"getComments",decl:{start:{line:267,column:15},end:{line:267,column:26}},loc:{start:{line:267,column:37},end:{line:280,column:1}},line:267}},branchMap:{"0":{loc:{start:{line:157,column:8},end:{line:161,column:9}},type:"if",locations:[{start:{line:157,column:8},end:{line:161,column:9}},{start:{line:159,column:15},end:{line:161,column:9}}],line:157},"1":{loc:{start:{line:185,column:8},end:{line:189,column:9}},type:"if",locations:[{start:{line:185,column:8},end:{line:189,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:185},"2":{loc:{start:{line:221,column:8},end:{line:223,column:9}},type:"if",locations:[{start:{line:221,column:8},end:{line:223,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:221},"3":{loc:{start:{line:226,column:8},end:{line:228,column:9}},type:"if",locations:[{start:{line:226,column:8},end:{line:228,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:226},"4":{loc:{start:{line:226,column:12},end:{line:226,column:39}},type:"binary-expr",locations:[{start:{line:226,column:12},end:{line:226,column:17}},{start:{line:226,column:21},end:{line:226,column:39}}],line:226},"5":{loc:{start:{line:231,column:8},end:{line:236,column:9}},type:"if",locations:[{start:{line:231,column:8},end:{line:236,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:231},"6":{loc:{start:{line:239,column:8},end:{line:243,column:9}},type:"if",locations:[{start:{line:239,column:8},end:{line:243,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:239},"7":{loc:{start:{line:247,column:8},end:{line:247,column:45}},type:"if",locations:[{start:{line:247,column:8},end:{line:247,column:45}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:247},"8":{loc:{start:{line:272,column:8},end:{line:274,column:9}},type:"if",locations:[{start:{line:272,column:8},end:{line:274,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:272},"9":{loc:{start:{line:272,column:12},end:{line:272,column:54}},type:"binary-expr",locations:[{start:{line:272,column:12},end:{line:272,column:25}},{start:{line:272,column:29},end:{line:272,column:54}}],line:272}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8e15e62d144e521f4b380e77e9ca278306f3d4c3"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_582o2f237=function(){return actualCoverage;};}return actualCoverage;}cov_582o2f237();// const chai = require("chai");
// const chaiHttp = require("chai-http");
// const { app, server } = require("../index");
// const { expect } = chai;
// const fs = require("fs");
// const path = require("path");
// chai.use(chaiHttp);
// let baseUrl;
// let validPostIds = []; // Store valid post IDs
// const invalidPostId = "invalidID"; // A static invalid ID for testing
// describe("UserComments API", () => {
//     before(async () => {
//         // Validate server instance
//         if (!server || !server.address) {
//             throw new Error("Server is not running or improperly initialized.");
//         }
//         const { address, port } = server.address();
//         baseUrl = `http://${address === "::" ? "localhost" : address}:${port}`;
//         // Load valid post IDs from foodblogs.json
//         const filePath = path.join(__dirname, "../utils/foodblogs.json");
//         const foodblogs = JSON.parse(fs.readFileSync(filePath, "utf-8"));
//         validPostIds = foodblogs.map((post) => post.id);
//     });
//     after(() => {
//         // Validate server close
//         if (server && typeof server.close === "function") {
//             return new Promise((resolve) => {
//                 server.close(() => resolve());
//             });
//         } else {
//             throw new Error("Server cannot be closed.");
//         }
//     });
//     describe("POST /add-comment/:id", () => {
//         it("should add a new comment successfully", (done) => {
//             chai.request(baseUrl)
//                 .post(`/add-comment/${validPostIds[0]}`) // Use the first valid ID
//                 .send({ text: "This is a valid comment." })
//                 .end((err, res) => {
//                     expect(res).to.have.status(201);
//                     expect(res.body.message).to.equal("Comment added successfully.");
//                     done();
//                 });
//         });
//         it("should return 400 for inappropriate language", (done) => {
//             chai.request(baseUrl)
//                 .post(`/add-comment/${validPostIds[0]}`) // Use the first valid ID
//                 .send({ text: "This comment contains asshole." })
//                 .end((err, res) => {
//                     expect(res).to.have.status(400);
//                     expect(res.body.message).to.equal("Your comment contains inappropriate language.");
//                     done();
//                 });
//         });
//         it("should return 400 for empty comment", (done) => {
//             chai.request(baseUrl)
//                 .post(`/add-comment/${validPostIds[0]}`) // Use the first valid ID
//                 .send({ text: "" })
//                 .end((err, res) => {
//                     expect(res).to.have.status(400);
//                     expect(res.body.message).to.equal("Comment cannot be empty.");
//                     done();
//                 });
//         });
//         it("should return 404 for a non-existent post ID", (done) => {
//             chai.request(baseUrl)
//                 .post(`/add-comment/${invalidPostId}`)
//                 .send({ text: "Valid comment text" })
//                 .end((err, res) => {
//                     expect(res).to.have.status(404);
//                     expect(res.body.message).to.equal("Post ID does not exist.");
//                     done();
//                 });
//         });
//         it("should return 400 for a comment exceeding max length", (done) => {
//             const longComment = "a".repeat(201); // 201 characters
//             chai.request(baseUrl)
//                 .post(`/add-comment/${validPostIds[0]}`) // Use the first valid ID
//                 .send({ text: longComment })
//                 .end((err, res) => {
//                     expect(res).to.have.status(400);
//                     expect(res.body.message).to.include("exceeds maximum allowed length");
//                     done();
//                 });
//         });
//     });
//     describe("GET /get-comments/:id", () => {
//         it("should retrieve comments for a valid post ID", (done) => {
//             chai.request(baseUrl)
//                 .get(`/get-comments/${validPostIds[0]}`) // Use the first valid ID
//                 .end((err, res) => {
//                     expect(res).to.have.status(200);
//                     expect(res.body).to.be.an("array");
//                     done();
//                 });
//         });
//         it("should return 404 for a post with no comments", (done) => {
//             chai.request(baseUrl)
//                 .get(`/get-comments/${validPostIds[1]}`) // Use another valid ID
//                 .end((err, res) => {
//                     expect(res).to.have.status(404);
//                     expect(res.body.message).to.equal("No comments found for this post.");
//                     done();
//                 });
//         });
//     });
//     describe("GET /get-post/:id", () => {
//         it("should return the post for a valid ID", (done) => {
//             chai.request(baseUrl)
//                 .get(`/get-post/${validPostIds[0]}`) // Use the first valid ID
//                 .end((err, res) => {
//                     expect(res).to.have.status(200);
//                     expect(res.body).to.be.an("object");
//                     done();
//                 });
//         });
//         it("should return 404 for a non-existing post ID", (done) => {
//             chai.request(baseUrl)
//                 .get(`/get-post/${invalidPostId}`)
//                 .end((err, res) => {
//                     expect(res).to.have.status(404);
//                     expect(res.body.message).to.equal("Post not found.");
//                     done();
//                 });
//         });
//     });
// });
const fs=(cov_582o2f237().s[0]++,require("fs").promises);const path=(cov_582o2f237().s[1]++,require("path"));const{v4:uuidv4}=(cov_582o2f237().s[2]++,require("uuid"));const commentsFilePath=(cov_582o2f237().s[3]++,path.join(__dirname,"comments.json"));const foodblogsFilePath=(cov_582o2f237().s[4]++,path.join(__dirname,"foodblogs.json"));const bannedWordsFilePath=(cov_582o2f237().s[5]++,path.join(__dirname,"bannedWords.json"));async function getPostById(req,res){cov_582o2f237().f[0]++;const{id}=(cov_582o2f237().s[6]++,req.params);cov_582o2f237().s[7]++;try{const posts=(cov_582o2f237().s[8]++,await readJSON(foodblogsFilePath));const post=(cov_582o2f237().s[9]++,posts.find(p=>{cov_582o2f237().f[1]++;cov_582o2f237().s[10]++;return p.id===id;}));cov_582o2f237().s[11]++;if(post){cov_582o2f237().b[0][0]++;cov_582o2f237().s[12]++;res.status(200).json(post);}else{cov_582o2f237().b[0][1]++;cov_582o2f237().s[13]++;res.status(404).json({message:"Post not found."});}}catch(error){cov_582o2f237().s[14]++;console.error("Error retrieving post by ID:",error);cov_582o2f237().s[15]++;res.status(500).json({message:"Internal server error."});}}// Load banned words dynamically from JSON
async function loadBannedWords(){cov_582o2f237().f[2]++;cov_582o2f237().s[16]++;try{const data=(cov_582o2f237().s[17]++,await fs.readFile(bannedWordsFilePath,"utf8"));cov_582o2f237().s[18]++;return JSON.parse(data);}catch(error){cov_582o2f237().s[19]++;console.error("Error loading banned words:",error);cov_582o2f237().s[20]++;return[];// Return an empty list if the file cannot be read
}}// Utility to read JSON files
async function readJSON(filePath){cov_582o2f237().f[3]++;cov_582o2f237().s[21]++;try{const data=(cov_582o2f237().s[22]++,await fs.readFile(filePath,"utf8"));cov_582o2f237().s[23]++;return JSON.parse(data);}catch(error){cov_582o2f237().s[24]++;if(error.code==="ENOENT"){cov_582o2f237().b[1][0]++;cov_582o2f237().s[25]++;console.warn(`File ${filePath} not found. Initializing.`);cov_582o2f237().s[26]++;await fs.writeFile(filePath,JSON.stringify({},null,2),"utf8");cov_582o2f237().s[27]++;return{};// Return an empty object
}else{cov_582o2f237().b[1][1]++;}cov_582o2f237().s[28]++;throw error;}}// Utility to write JSON files
async function writeJSON(filePath,data){cov_582o2f237().f[4]++;cov_582o2f237().s[29]++;try{cov_582o2f237().s[30]++;await fs.writeFile(filePath,JSON.stringify(data,null,2),"utf8");}catch(error){cov_582o2f237().s[31]++;console.error(`Error writing to file ${filePath}:`,error);cov_582o2f237().s[32]++;throw error;}}async function containsBannedWords(text){cov_582o2f237().f[5]++;const bannedWords=(cov_582o2f237().s[33]++,await loadBannedWords());const regex=(cov_582o2f237().s[34]++,new RegExp(`\\b(${bannedWords.join("|")})\\b|\\W(${bannedWords.join("|")})`,"i"));cov_582o2f237().s[35]++;return regex.test(text);}async function addComment(req,res){cov_582o2f237().f[6]++;const{id}=(cov_582o2f237().s[36]++,req.params);const{text}=(cov_582o2f237().s[37]++,req.body);const MAX_COMMENT_LENGTH=(cov_582o2f237().s[38]++,200);cov_582o2f237().s[39]++;try{// Validate post ID
const posts=(cov_582o2f237().s[40]++,await readJSON(foodblogsFilePath));const postExists=(cov_582o2f237().s[41]++,posts.some(post=>{cov_582o2f237().f[7]++;cov_582o2f237().s[42]++;return post.id===id;}));cov_582o2f237().s[43]++;if(!postExists){cov_582o2f237().b[2][0]++;cov_582o2f237().s[44]++;return res.status(404).json({message:"Post ID does not exist."});}else{cov_582o2f237().b[2][1]++;}// Validate empty or missing comment
cov_582o2f237().s[45]++;if((cov_582o2f237().b[4][0]++,!text)||(cov_582o2f237().b[4][1]++,text.trim()==="")){cov_582o2f237().b[3][0]++;cov_582o2f237().s[46]++;return res.status(400).json({message:"Comment cannot be empty."});}else{cov_582o2f237().b[3][1]++;}// Validate inappropriate language
cov_582o2f237().s[47]++;if(await containsBannedWords(text)){cov_582o2f237().b[5][0]++;cov_582o2f237().s[48]++;console.log("Banned word detected in comment:",text);cov_582o2f237().s[49]++;return res.status(400).json({message:"Your comment contains inappropriate language."});}else{cov_582o2f237().b[5][1]++;}// Validate comment length
cov_582o2f237().s[50]++;if(text.length>MAX_COMMENT_LENGTH){cov_582o2f237().b[6][0]++;cov_582o2f237().s[51]++;return res.status(400).json({message:`Comment exceeds maximum allowed length of ${MAX_COMMENT_LENGTH} characters.`});}else{cov_582o2f237().b[6][1]++;}// Add comment to JSON
const comments=(cov_582o2f237().s[52]++,await readJSON(commentsFilePath));cov_582o2f237().s[53]++;if(!comments[id]){cov_582o2f237().b[7][0]++;cov_582o2f237().s[54]++;comments[id]=[];}else{cov_582o2f237().b[7][1]++;}const newComment=(cov_582o2f237().s[55]++,{id:uuidv4(),text,timestamp:new Date().toISOString()});cov_582o2f237().s[56]++;comments[id].push(newComment);cov_582o2f237().s[57]++;await writeJSON(commentsFilePath,comments);cov_582o2f237().s[58]++;return res.status(201).json({message:"Comment added successfully.",comment:newComment});}catch(error){cov_582o2f237().s[59]++;console.error("Error adding comment:",error);cov_582o2f237().s[60]++;return res.status(500).json({message:"Internal server error."});}}// Get comments for a post
async function getComments(req,res){cov_582o2f237().f[8]++;const{id}=(cov_582o2f237().s[61]++,req.params);cov_582o2f237().s[62]++;try{const comments=(cov_582o2f237().s[63]++,await readJSON(commentsFilePath));cov_582o2f237().s[64]++;if((cov_582o2f237().b[9][0]++,!comments[id])||(cov_582o2f237().b[9][1]++,comments[id].length===0)){cov_582o2f237().b[8][0]++;cov_582o2f237().s[65]++;return res.status(404).json({message:"No comments found for this post."});}else{cov_582o2f237().b[8][1]++;}cov_582o2f237().s[66]++;return res.status(200).json(comments[id]);}catch(error){cov_582o2f237().s[67]++;console.error("Error fetching comments:",error);cov_582o2f237().s[68]++;return res.status(500).json({message:"Internal server error."});}}cov_582o2f237().s[69]++;module.exports={getPostById,getComments,addComment};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfNTgybzJmMjM3IiwiYWN0dWFsQ292ZXJhZ2UiLCJmcyIsInMiLCJyZXF1aXJlIiwicHJvbWlzZXMiLCJwYXRoIiwidjQiLCJ1dWlkdjQiLCJjb21tZW50c0ZpbGVQYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsImZvb2RibG9nc0ZpbGVQYXRoIiwiYmFubmVkV29yZHNGaWxlUGF0aCIsImdldFBvc3RCeUlkIiwicmVxIiwicmVzIiwiZiIsImlkIiwicGFyYW1zIiwicG9zdHMiLCJyZWFkSlNPTiIsInBvc3QiLCJmaW5kIiwicCIsImIiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImVycm9yIiwiY29uc29sZSIsImxvYWRCYW5uZWRXb3JkcyIsImRhdGEiLCJyZWFkRmlsZSIsIkpTT04iLCJwYXJzZSIsImZpbGVQYXRoIiwiY29kZSIsIndhcm4iLCJ3cml0ZUZpbGUiLCJzdHJpbmdpZnkiLCJ3cml0ZUpTT04iLCJjb250YWluc0Jhbm5lZFdvcmRzIiwidGV4dCIsImJhbm5lZFdvcmRzIiwicmVnZXgiLCJSZWdFeHAiLCJ0ZXN0IiwiYWRkQ29tbWVudCIsImJvZHkiLCJNQVhfQ09NTUVOVF9MRU5HVEgiLCJwb3N0RXhpc3RzIiwic29tZSIsInRyaW0iLCJsb2ciLCJsZW5ndGgiLCJjb21tZW50cyIsIm5ld0NvbW1lbnQiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJwdXNoIiwiY29tbWVudCIsImdldENvbW1lbnRzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIlVzZXJDb21tZW50cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjb25zdCBjaGFpID0gcmVxdWlyZShcImNoYWlcIik7XHJcbi8vIGNvbnN0IGNoYWlIdHRwID0gcmVxdWlyZShcImNoYWktaHR0cFwiKTtcclxuLy8gY29uc3QgeyBhcHAsIHNlcnZlciB9ID0gcmVxdWlyZShcIi4uL2luZGV4XCIpO1xyXG4vLyBjb25zdCB7IGV4cGVjdCB9ID0gY2hhaTtcclxuLy8gY29uc3QgZnMgPSByZXF1aXJlKFwiZnNcIik7XHJcbi8vIGNvbnN0IHBhdGggPSByZXF1aXJlKFwicGF0aFwiKTtcclxuIFxyXG4vLyBjaGFpLnVzZShjaGFpSHR0cCk7XHJcbiBcclxuLy8gbGV0IGJhc2VVcmw7XHJcbi8vIGxldCB2YWxpZFBvc3RJZHMgPSBbXTsgLy8gU3RvcmUgdmFsaWQgcG9zdCBJRHNcclxuLy8gY29uc3QgaW52YWxpZFBvc3RJZCA9IFwiaW52YWxpZElEXCI7IC8vIEEgc3RhdGljIGludmFsaWQgSUQgZm9yIHRlc3RpbmdcclxuIFxyXG4vLyBkZXNjcmliZShcIlVzZXJDb21tZW50cyBBUElcIiwgKCkgPT4ge1xyXG4vLyAgICAgYmVmb3JlKGFzeW5jICgpID0+IHtcclxuLy8gICAgICAgICAvLyBWYWxpZGF0ZSBzZXJ2ZXIgaW5zdGFuY2VcclxuLy8gICAgICAgICBpZiAoIXNlcnZlciB8fCAhc2VydmVyLmFkZHJlc3MpIHtcclxuLy8gICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2VydmVyIGlzIG5vdCBydW5uaW5nIG9yIGltcHJvcGVybHkgaW5pdGlhbGl6ZWQuXCIpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBjb25zdCB7IGFkZHJlc3MsIHBvcnQgfSA9IHNlcnZlci5hZGRyZXNzKCk7XHJcbi8vICAgICAgICAgYmFzZVVybCA9IGBodHRwOi8vJHthZGRyZXNzID09PSBcIjo6XCIgPyBcImxvY2FsaG9zdFwiIDogYWRkcmVzc306JHtwb3J0fWA7XHJcbiBcclxuLy8gICAgICAgICAvLyBMb2FkIHZhbGlkIHBvc3QgSURzIGZyb20gZm9vZGJsb2dzLmpzb25cclxuLy8gICAgICAgICBjb25zdCBmaWxlUGF0aCA9IHBhdGguam9pbihfX2Rpcm5hbWUsIFwiLi4vdXRpbHMvZm9vZGJsb2dzLmpzb25cIik7XHJcbi8vICAgICAgICAgY29uc3QgZm9vZGJsb2dzID0gSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmMoZmlsZVBhdGgsIFwidXRmLThcIikpO1xyXG4vLyAgICAgICAgIHZhbGlkUG9zdElkcyA9IGZvb2RibG9ncy5tYXAoKHBvc3QpID0+IHBvc3QuaWQpO1xyXG4vLyAgICAgfSk7XHJcbiBcclxuLy8gICAgIGFmdGVyKCgpID0+IHtcclxuLy8gICAgICAgICAvLyBWYWxpZGF0ZSBzZXJ2ZXIgY2xvc2VcclxuLy8gICAgICAgICBpZiAoc2VydmVyICYmIHR5cGVvZiBzZXJ2ZXIuY2xvc2UgPT09IFwiZnVuY3Rpb25cIikge1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuLy8gICAgICAgICAgICAgICAgIHNlcnZlci5jbG9zZSgoKSA9PiByZXNvbHZlKCkpO1xyXG4vLyAgICAgICAgICAgICB9KTtcclxuLy8gICAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTZXJ2ZXIgY2Fubm90IGJlIGNsb3NlZC5cIik7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSk7XHJcbiBcclxuLy8gICAgIGRlc2NyaWJlKFwiUE9TVCAvYWRkLWNvbW1lbnQvOmlkXCIsICgpID0+IHtcclxuLy8gICAgICAgICBpdChcInNob3VsZCBhZGQgYSBuZXcgY29tbWVudCBzdWNjZXNzZnVsbHlcIiwgKGRvbmUpID0+IHtcclxuLy8gICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KGJhc2VVcmwpXHJcbi8vICAgICAgICAgICAgICAgICAucG9zdChgL2FkZC1jb21tZW50LyR7dmFsaWRQb3N0SWRzWzBdfWApIC8vIFVzZSB0aGUgZmlyc3QgdmFsaWQgSURcclxuLy8gICAgICAgICAgICAgICAgIC5zZW5kKHsgdGV4dDogXCJUaGlzIGlzIGEgdmFsaWQgY29tbWVudC5cIiB9KVxyXG4vLyAgICAgICAgICAgICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBleHBlY3QocmVzKS50by5oYXZlLnN0YXR1cygyMDEpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChyZXMuYm9keS5tZXNzYWdlKS50by5lcXVhbChcIkNvbW1lbnQgYWRkZWQgc3VjY2Vzc2Z1bGx5LlwiKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICBkb25lKCk7XHJcbi8vICAgICAgICAgICAgICAgICB9KTtcclxuLy8gICAgICAgICB9KTtcclxuIFxyXG4vLyAgICAgICAgIGl0KFwic2hvdWxkIHJldHVybiA0MDAgZm9yIGluYXBwcm9wcmlhdGUgbGFuZ3VhZ2VcIiwgKGRvbmUpID0+IHtcclxuLy8gICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KGJhc2VVcmwpXHJcbi8vICAgICAgICAgICAgICAgICAucG9zdChgL2FkZC1jb21tZW50LyR7dmFsaWRQb3N0SWRzWzBdfWApIC8vIFVzZSB0aGUgZmlyc3QgdmFsaWQgSURcclxuLy8gICAgICAgICAgICAgICAgIC5zZW5kKHsgdGV4dDogXCJUaGlzIGNvbW1lbnQgY29udGFpbnMgYXNzaG9sZS5cIiB9KVxyXG4vLyAgICAgICAgICAgICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBleHBlY3QocmVzKS50by5oYXZlLnN0YXR1cyg0MDApO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChyZXMuYm9keS5tZXNzYWdlKS50by5lcXVhbChcIllvdXIgY29tbWVudCBjb250YWlucyBpbmFwcHJvcHJpYXRlIGxhbmd1YWdlLlwiKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICBkb25lKCk7XHJcbi8vICAgICAgICAgICAgICAgICB9KTtcclxuLy8gICAgICAgICB9KTtcclxuIFxyXG4vLyAgICAgICAgIGl0KFwic2hvdWxkIHJldHVybiA0MDAgZm9yIGVtcHR5IGNvbW1lbnRcIiwgKGRvbmUpID0+IHtcclxuLy8gICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KGJhc2VVcmwpXHJcbi8vICAgICAgICAgICAgICAgICAucG9zdChgL2FkZC1jb21tZW50LyR7dmFsaWRQb3N0SWRzWzBdfWApIC8vIFVzZSB0aGUgZmlyc3QgdmFsaWQgSURcclxuLy8gICAgICAgICAgICAgICAgIC5zZW5kKHsgdGV4dDogXCJcIiB9KVxyXG4vLyAgICAgICAgICAgICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBleHBlY3QocmVzKS50by5oYXZlLnN0YXR1cyg0MDApO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChyZXMuYm9keS5tZXNzYWdlKS50by5lcXVhbChcIkNvbW1lbnQgY2Fubm90IGJlIGVtcHR5LlwiKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICBkb25lKCk7XHJcbi8vICAgICAgICAgICAgICAgICB9KTtcclxuLy8gICAgICAgICB9KTtcclxuIFxyXG4vLyAgICAgICAgIGl0KFwic2hvdWxkIHJldHVybiA0MDQgZm9yIGEgbm9uLWV4aXN0ZW50IHBvc3QgSURcIiwgKGRvbmUpID0+IHtcclxuLy8gICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KGJhc2VVcmwpXHJcbi8vICAgICAgICAgICAgICAgICAucG9zdChgL2FkZC1jb21tZW50LyR7aW52YWxpZFBvc3RJZH1gKVxyXG4vLyAgICAgICAgICAgICAgICAgLnNlbmQoeyB0ZXh0OiBcIlZhbGlkIGNvbW1lbnQgdGV4dFwiIH0pXHJcbi8vICAgICAgICAgICAgICAgICAuZW5kKChlcnIsIHJlcykgPT4ge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChyZXMpLnRvLmhhdmUuc3RhdHVzKDQwNCk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJlcy5ib2R5Lm1lc3NhZ2UpLnRvLmVxdWFsKFwiUG9zdCBJRCBkb2VzIG5vdCBleGlzdC5cIik7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4vLyAgICAgICAgICAgICAgICAgfSk7XHJcbi8vICAgICAgICAgfSk7XHJcbiBcclxuLy8gICAgICAgICBpdChcInNob3VsZCByZXR1cm4gNDAwIGZvciBhIGNvbW1lbnQgZXhjZWVkaW5nIG1heCBsZW5ndGhcIiwgKGRvbmUpID0+IHtcclxuLy8gICAgICAgICAgICAgY29uc3QgbG9uZ0NvbW1lbnQgPSBcImFcIi5yZXBlYXQoMjAxKTsgLy8gMjAxIGNoYXJhY3RlcnNcclxuLy8gICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KGJhc2VVcmwpXHJcbi8vICAgICAgICAgICAgICAgICAucG9zdChgL2FkZC1jb21tZW50LyR7dmFsaWRQb3N0SWRzWzBdfWApIC8vIFVzZSB0aGUgZmlyc3QgdmFsaWQgSURcclxuLy8gICAgICAgICAgICAgICAgIC5zZW5kKHsgdGV4dDogbG9uZ0NvbW1lbnQgfSlcclxuLy8gICAgICAgICAgICAgICAgIC5lbmQoKGVyciwgcmVzKSA9PiB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJlcykudG8uaGF2ZS5zdGF0dXMoNDAwKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICBleHBlY3QocmVzLmJvZHkubWVzc2FnZSkudG8uaW5jbHVkZShcImV4Y2VlZHMgbWF4aW11bSBhbGxvd2VkIGxlbmd0aFwiKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICBkb25lKCk7XHJcbi8vICAgICAgICAgICAgICAgICB9KTtcclxuLy8gICAgICAgICB9KTtcclxuLy8gICAgIH0pO1xyXG4gXHJcbi8vICAgICBkZXNjcmliZShcIkdFVCAvZ2V0LWNvbW1lbnRzLzppZFwiLCAoKSA9PiB7XHJcbi8vICAgICAgICAgaXQoXCJzaG91bGQgcmV0cmlldmUgY29tbWVudHMgZm9yIGEgdmFsaWQgcG9zdCBJRFwiLCAoZG9uZSkgPT4ge1xyXG4vLyAgICAgICAgICAgICBjaGFpLnJlcXVlc3QoYmFzZVVybClcclxuLy8gICAgICAgICAgICAgICAgIC5nZXQoYC9nZXQtY29tbWVudHMvJHt2YWxpZFBvc3RJZHNbMF19YCkgLy8gVXNlIHRoZSBmaXJzdCB2YWxpZCBJRFxyXG4vLyAgICAgICAgICAgICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBleHBlY3QocmVzKS50by5oYXZlLnN0YXR1cygyMDApO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChyZXMuYm9keSkudG8uYmUuYW4oXCJhcnJheVwiKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICBkb25lKCk7XHJcbi8vICAgICAgICAgICAgICAgICB9KTtcclxuLy8gICAgICAgICB9KTtcclxuIFxyXG4vLyAgICAgICAgIGl0KFwic2hvdWxkIHJldHVybiA0MDQgZm9yIGEgcG9zdCB3aXRoIG5vIGNvbW1lbnRzXCIsIChkb25lKSA9PiB7XHJcbi8vICAgICAgICAgICAgIGNoYWkucmVxdWVzdChiYXNlVXJsKVxyXG4vLyAgICAgICAgICAgICAgICAgLmdldChgL2dldC1jb21tZW50cy8ke3ZhbGlkUG9zdElkc1sxXX1gKSAvLyBVc2UgYW5vdGhlciB2YWxpZCBJRFxyXG4vLyAgICAgICAgICAgICAgICAgLmVuZCgoZXJyLCByZXMpID0+IHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBleHBlY3QocmVzKS50by5oYXZlLnN0YXR1cyg0MDQpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChyZXMuYm9keS5tZXNzYWdlKS50by5lcXVhbChcIk5vIGNvbW1lbnRzIGZvdW5kIGZvciB0aGlzIHBvc3QuXCIpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuLy8gICAgICAgICAgICAgICAgIH0pO1xyXG4vLyAgICAgICAgIH0pO1xyXG4vLyAgICAgfSk7XHJcbiBcclxuLy8gICAgIGRlc2NyaWJlKFwiR0VUIC9nZXQtcG9zdC86aWRcIiwgKCkgPT4ge1xyXG4vLyAgICAgICAgIGl0KFwic2hvdWxkIHJldHVybiB0aGUgcG9zdCBmb3IgYSB2YWxpZCBJRFwiLCAoZG9uZSkgPT4ge1xyXG4vLyAgICAgICAgICAgICBjaGFpLnJlcXVlc3QoYmFzZVVybClcclxuLy8gICAgICAgICAgICAgICAgIC5nZXQoYC9nZXQtcG9zdC8ke3ZhbGlkUG9zdElkc1swXX1gKSAvLyBVc2UgdGhlIGZpcnN0IHZhbGlkIElEXHJcbi8vICAgICAgICAgICAgICAgICAuZW5kKChlcnIsIHJlcykgPT4ge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChyZXMpLnRvLmhhdmUuc3RhdHVzKDIwMCk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJlcy5ib2R5KS50by5iZS5hbihcIm9iamVjdFwiKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICBkb25lKCk7XHJcbi8vICAgICAgICAgICAgICAgICB9KTtcclxuLy8gICAgICAgICB9KTtcclxuIFxyXG4vLyAgICAgICAgIGl0KFwic2hvdWxkIHJldHVybiA0MDQgZm9yIGEgbm9uLWV4aXN0aW5nIHBvc3QgSURcIiwgKGRvbmUpID0+IHtcclxuLy8gICAgICAgICAgICAgY2hhaS5yZXF1ZXN0KGJhc2VVcmwpXHJcbi8vICAgICAgICAgICAgICAgICAuZ2V0KGAvZ2V0LXBvc3QvJHtpbnZhbGlkUG9zdElkfWApXHJcbi8vICAgICAgICAgICAgICAgICAuZW5kKChlcnIsIHJlcykgPT4ge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGV4cGVjdChyZXMpLnRvLmhhdmUuc3RhdHVzKDQwNCk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZXhwZWN0KHJlcy5ib2R5Lm1lc3NhZ2UpLnRvLmVxdWFsKFwiUG9zdCBub3QgZm91bmQuXCIpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuLy8gICAgICAgICAgICAgICAgIH0pO1xyXG4vLyAgICAgICAgIH0pO1xyXG4vLyAgICAgfSk7XHJcbi8vIH0pO1xyXG4gXHJcbiBcclxuY29uc3QgZnMgPSByZXF1aXJlKFwiZnNcIikucHJvbWlzZXM7XHJcbmNvbnN0IHBhdGggPSByZXF1aXJlKFwicGF0aFwiKTtcclxuY29uc3QgeyB2NDogdXVpZHY0IH0gPSByZXF1aXJlKFwidXVpZFwiKTtcclxuIFxyXG5jb25zdCBjb21tZW50c0ZpbGVQYXRoID0gcGF0aC5qb2luKF9fZGlybmFtZSwgXCJjb21tZW50cy5qc29uXCIpO1xyXG5jb25zdCBmb29kYmxvZ3NGaWxlUGF0aCA9IHBhdGguam9pbihfX2Rpcm5hbWUsIFwiZm9vZGJsb2dzLmpzb25cIik7XHJcbmNvbnN0IGJhbm5lZFdvcmRzRmlsZVBhdGggPSBwYXRoLmpvaW4oX19kaXJuYW1lLCBcImJhbm5lZFdvcmRzLmpzb25cIik7XHJcbmFzeW5jIGZ1bmN0aW9uIGdldFBvc3RCeUlkKHJlcSwgcmVzKSB7XHJcbiAgICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBwb3N0cyA9IGF3YWl0IHJlYWRKU09OKGZvb2RibG9nc0ZpbGVQYXRoKTtcclxuICAgICAgICBjb25zdCBwb3N0ID0gcG9zdHMuZmluZCgocCkgPT4gcC5pZCA9PT0gaWQpO1xyXG4gXHJcbiAgICAgICAgaWYgKHBvc3QpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24ocG9zdCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiBcIlBvc3Qgbm90IGZvdW5kLlwiIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHJldHJpZXZpbmcgcG9zdCBieSBJRDpcIiwgZXJyb3IpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3IuXCIgfSk7XHJcbiAgICB9XHJcbn1cclxuIFxyXG4vLyBMb2FkIGJhbm5lZCB3b3JkcyBkeW5hbWljYWxseSBmcm9tIEpTT05cclxuYXN5bmMgZnVuY3Rpb24gbG9hZEJhbm5lZFdvcmRzKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgZnMucmVhZEZpbGUoYmFubmVkV29yZHNGaWxlUGF0aCwgXCJ1dGY4XCIpO1xyXG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbG9hZGluZyBiYW5uZWQgd29yZHM6XCIsIGVycm9yKTtcclxuICAgICAgICByZXR1cm4gW107IC8vIFJldHVybiBhbiBlbXB0eSBsaXN0IGlmIHRoZSBmaWxlIGNhbm5vdCBiZSByZWFkXHJcbiAgICB9XHJcbn1cclxuIFxyXG4vLyBVdGlsaXR5IHRvIHJlYWQgSlNPTiBmaWxlc1xyXG5hc3luYyBmdW5jdGlvbiByZWFkSlNPTihmaWxlUGF0aCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgZnMucmVhZEZpbGUoZmlsZVBhdGgsIFwidXRmOFwiKTtcclxuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShkYXRhKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09IFwiRU5PRU5UXCIpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBGaWxlICR7ZmlsZVBhdGh9IG5vdCBmb3VuZC4gSW5pdGlhbGl6aW5nLmApO1xyXG4gICAgICAgICAgICBhd2FpdCBmcy53cml0ZUZpbGUoZmlsZVBhdGgsIEpTT04uc3RyaW5naWZ5KHt9LCBudWxsLCAyKSwgXCJ1dGY4XCIpO1xyXG4gICAgICAgICAgICByZXR1cm4ge307IC8vIFJldHVybiBhbiBlbXB0eSBvYmplY3RcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbn1cclxuIFxyXG4vLyBVdGlsaXR5IHRvIHdyaXRlIEpTT04gZmlsZXNcclxuYXN5bmMgZnVuY3Rpb24gd3JpdGVKU09OKGZpbGVQYXRoLCBkYXRhKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGF3YWl0IGZzLndyaXRlRmlsZShmaWxlUGF0aCwgSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMiksIFwidXRmOFwiKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3Igd3JpdGluZyB0byBmaWxlICR7ZmlsZVBhdGh9OmAsIGVycm9yKTtcclxuICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxufVxyXG4gXHJcbmFzeW5jIGZ1bmN0aW9uIGNvbnRhaW5zQmFubmVkV29yZHModGV4dCkge1xyXG4gICAgY29uc3QgYmFubmVkV29yZHMgPSBhd2FpdCBsb2FkQmFubmVkV29yZHMoKTtcclxuICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChgXFxcXGIoJHtiYW5uZWRXb3Jkcy5qb2luKFwifFwiKX0pXFxcXGJ8XFxcXFcoJHtiYW5uZWRXb3Jkcy5qb2luKFwifFwiKX0pYCwgXCJpXCIpO1xyXG4gICAgcmV0dXJuIHJlZ2V4LnRlc3QodGV4dCk7XHJcbn1cclxuIFxyXG4gXHJcbmFzeW5jIGZ1bmN0aW9uIGFkZENvbW1lbnQocmVxLCByZXMpIHtcclxuICAgIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICBjb25zdCB7IHRleHQgfSA9IHJlcS5ib2R5O1xyXG4gXHJcbiAgICBjb25zdCBNQVhfQ09NTUVOVF9MRU5HVEggPSAyMDA7XHJcbiBcclxuICAgIHRyeSB7XHJcbiAgICAgICAgLy8gVmFsaWRhdGUgcG9zdCBJRFxyXG4gICAgICAgIGNvbnN0IHBvc3RzID0gYXdhaXQgcmVhZEpTT04oZm9vZGJsb2dzRmlsZVBhdGgpO1xyXG4gICAgICAgIGNvbnN0IHBvc3RFeGlzdHMgPSBwb3N0cy5zb21lKChwb3N0KSA9PiBwb3N0LmlkID09PSBpZCk7XHJcbiAgICAgICAgaWYgKCFwb3N0RXhpc3RzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6IFwiUG9zdCBJRCBkb2VzIG5vdCBleGlzdC5cIiB9KTtcclxuICAgICAgICB9XHJcbiBcclxuICAgICAgICAvLyBWYWxpZGF0ZSBlbXB0eSBvciBtaXNzaW5nIGNvbW1lbnRcclxuICAgICAgICBpZiAoIXRleHQgfHwgdGV4dC50cmltKCkgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogXCJDb21tZW50IGNhbm5vdCBiZSBlbXB0eS5cIiB9KTtcclxuICAgICAgICB9XHJcbiBcclxuICAgICAgICAvLyBWYWxpZGF0ZSBpbmFwcHJvcHJpYXRlIGxhbmd1YWdlXHJcbiAgICAgICAgaWYgKGF3YWl0IGNvbnRhaW5zQmFubmVkV29yZHModGV4dCkpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJCYW5uZWQgd29yZCBkZXRlY3RlZCBpbiBjb21tZW50OlwiLCB0ZXh0KTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiWW91ciBjb21tZW50IGNvbnRhaW5zIGluYXBwcm9wcmlhdGUgbGFuZ3VhZ2UuXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuIFxyXG4gICAgICAgIC8vIFZhbGlkYXRlIGNvbW1lbnQgbGVuZ3RoXHJcbiAgICAgICAgaWYgKHRleHQubGVuZ3RoID4gTUFYX0NPTU1FTlRfTEVOR1RIKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgQ29tbWVudCBleGNlZWRzIG1heGltdW0gYWxsb3dlZCBsZW5ndGggb2YgJHtNQVhfQ09NTUVOVF9MRU5HVEh9IGNoYXJhY3RlcnMuYCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gXHJcbiAgICAgICAgLy8gQWRkIGNvbW1lbnQgdG8gSlNPTlxyXG4gICAgICAgIGNvbnN0IGNvbW1lbnRzID0gYXdhaXQgcmVhZEpTT04oY29tbWVudHNGaWxlUGF0aCk7XHJcbiAgICAgICAgaWYgKCFjb21tZW50c1tpZF0pIGNvbW1lbnRzW2lkXSA9IFtdO1xyXG4gICAgICAgIGNvbnN0IG5ld0NvbW1lbnQgPSB7XHJcbiAgICAgICAgICAgIGlkOiB1dWlkdjQoKSxcclxuICAgICAgICAgICAgdGV4dCxcclxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb21tZW50c1tpZF0ucHVzaChuZXdDb21tZW50KTtcclxuICAgICAgICBhd2FpdCB3cml0ZUpTT04oY29tbWVudHNGaWxlUGF0aCwgY29tbWVudHMpO1xyXG4gXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgICAgICAgbWVzc2FnZTogXCJDb21tZW50IGFkZGVkIHN1Y2Nlc3NmdWxseS5cIixcclxuICAgICAgICAgICAgY29tbWVudDogbmV3Q29tbWVudCxcclxuICAgICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFkZGluZyBjb21tZW50OlwiLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3IuXCIgfSk7XHJcbiAgICB9XHJcbn1cclxuIFxyXG4vLyBHZXQgY29tbWVudHMgZm9yIGEgcG9zdFxyXG5hc3luYyBmdW5jdGlvbiBnZXRDb21tZW50cyhyZXEsIHJlcykge1xyXG4gICAgY29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcclxuIFxyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjb21tZW50cyA9IGF3YWl0IHJlYWRKU09OKGNvbW1lbnRzRmlsZVBhdGgpO1xyXG4gICAgICAgIGlmICghY29tbWVudHNbaWRdIHx8IGNvbW1lbnRzW2lkXS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogXCJObyBjb21tZW50cyBmb3VuZCBmb3IgdGhpcyBwb3N0LlwiIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oY29tbWVudHNbaWRdKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIGNvbW1lbnRzOlwiLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3IuXCIgfSk7XHJcbiAgICB9XHJcbn1cclxuIFxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGdldFBvc3RCeUlkLFxyXG4gICAgZ2V0Q29tbWVudHMsXHJcbiAgICBhZGRDb21tZW50LFxyXG59O1xyXG4gXHJcbiAiXSwibWFwcGluZ3MiOiIrdVJBZVk7QUFBQUEsYUFBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxhQUFBLEdBZlo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtB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